<!-- <!DOCTYPE html>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<html lang="en">
<html>
  <head>
  <script
      type="text/javascript"
      src="http://d3js.org/d3.v3.min.js">
  </script>
  <script
      type="text/javascript"
      src="http://d3js.org/queue.v1.min.js"> 
  </script>
</head>
<body>

	<div id='portrait'></div>

<script type="text/javascript">
	var size = 600

	var color = ["#156b87", "#876315", "#543510", "#872815"]

	d3.json('http://localhost:4567/tweets', function(data){

		var svg=d3.select('div#portrait').append('svg')
			.attr('width', size)
			.attr('height', size)

		var pack = d3.layout.pack()
			.size([size, size])
			.sort(d3.descending)
			.padding(2)

		svg.selectAll('circle')
				.data(pack.nodes(data).slice(1))
			.enter.append('circle')
				.attr('r', 0)
			.transition().duration(2000).ease('elastic')
				.attr('cx', function(d) { return d.x })
				.attr('cy', function(d) { return d.y })
				.attr('r', function(d) { return d.r })
				.attr('fill', function(d) { return color[d.color_code] })

	})
</script>

</body>
</html>
 -->